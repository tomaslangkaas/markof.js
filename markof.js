var markof=function(d){function H(a){return"&#"+a.charCodeAt(0)+";"}function l(a){return a.replace(w,H)}function x(a){return y.slice(0,a+1)}function z(){return""}function A(a,b){return"<"+a+">"+b+"</"+a+">"}function t(a){for(var b="";g.length>a;)b+=m(g.length-1)+"</"+g.pop()+">";return b}function p(a,b,e){e|=0;return t(e)+m(e)+"<"+(g[e]=a)+(b||"")+">"}function B(a,b,e,c,d){var h="";if(g[c-1]!=a||b)h+=p(a,0,c-1);return h+=p(e,d,c)}function I(a){return p(0>";,'".indexOf(a)?"td":"th",a&&' style="text-align:'+(0>",.".indexOf(a)?0>";:".indexOf(a)?"left":"center":"right")+';"',2)}function C(a,b,e,k,r,h,w,n,x,D,y,J,z,C,G,Q,R,K,L,M,S,T,u,E,N,O,U,V,P,f){return n?(n=n.split("\n").length-2,f=(L?' id="'+L+'"':"")+(M?' class="'+M+'"':""),(D?B(c[D]||"ol",n,"li",(x||"").length+1,c[D]?f:f+' value="'+y+'"'):J?p("h"+J.length,f):z?p("blockquote",f):C?t(0)+m(0)+A("pre",A("code",l(G.replace(/\\`/g,"`")))):K?B("dl",n,c[K]||"dd",1,f):Q?B("table",n,"tr",1,f)+I(R):n||!g.length?p("p",f):"<br>")+m(g.length)):S&&"table"==g[0]?I(T)+m(3):u?((F[u]^=1)?"<":"</")+c[u]+">":E?c[E]||H(E):P?A("code",l(P.replace(/\\`/g,"`"))):N?(U?'<img alt="'+l(V)+'" src="':(v=1,'<a href="'))+N+(O?'" title="'+l(O):"")+'">':e?v?(v=0,"</a>"):"]":b?l(b):r?(k?t(0)+m(0):"")+(d.hasOwnProperty(h)?d[h].call?(f=d[h](w),void 0==f?"":f):d[h]:l(r)):a}function k(a,b){g=[];F={};d=b||d;v=0;return("\n\n"+a).replace(/\s*$/,"").replace(G,C).slice(r?0:1)+t(0)}var w=/[<>&\"\'\/]/g,c={_:"sub","^":"sup","~":"small","*":"em","!!":"strong","++":"ins","==":"del","-":"ul",":":"dt","--":"&ndash;","---":"&mdash;","...":"&hellip;","'":"&rsquo;"},G=/&\w*;|&#x?[\da-fA-F]*;|\\([\'\"\*!~\^_`\+\-=\.<>#\|\:\[])|(\])|(\s*\n)?(\{\{([^\}\s]*)\s?((?:\\\}|[^\}])*)\}\})|(\s*\n)(?:( *)(\-|(\d+)\.)|(#{1,6})|(\")|(```).*\n((?:[^\n]|\n[^`])*)\n```.*|(\|([\:;\.\,\'])?)|(\:\:?))?(?:\[(?:#([\w_]*))?(?:\.([\w ]*))?\])? *|( *\|([\:;\.\,\'])? *)|([_\^~\*]|!!|==|\+\+)|(<<|>>|``|\'\'|[<>&\"\'\/]|\-{2,3}|\.{3})|\{((?:#|https?|mailto|\.)[\!#\$&\=\]_~\(-;\?-\[a-z]*) ?([^\}]*)\}\[(\!([^\]]*)\])?|`((?:\\`|[^`])*)`/g,F={},g=[],y="\n"+Array(99).join(" "),m,v,r;d=d||{};(k.quotes=function(a,b,e,d){c["<<"]=a||"&ldquo;";c[">>"]=b||"&rdquo;";c["``"]=e||"&lsquo;";c["''"]=d||"&rsquo;";return k})();(k.compact=function(a){m=(r=a)?z:x;return k})();k.safe=l;return k};
