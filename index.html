<!doctype html>
<html>
<head>
<title>markof.js</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta charset="UTF-8" />
<style>
@import url(https://fonts.googleapis.com/css?family=PT+Serif:400);
@import url(https://fonts.googleapis.com/css?family=PT+Serif:400italic);
@import url(https://fonts.googleapis.com/css?family=PT+Serif:700);
@import url(https://fonts.googleapis.com/css?family=PT+Serif:700italic);

html{
	background: #ddd;
}
body{
	font-family: sans-serif;
	max-width: 50em;
	padding: 2em;
	margin: auto;
	background: #fff;
	box-shadow: 0 0 5px 5px #ccc;
}
textarea{
	font-family: monospace;
	display: block;
	box-sizing: border-box;
	width: 100%;
	height: 20em;
	overflow: auto;
}
.col2{
	width: 50%;
}
.inline{
	display: -moz-inline-stack;
	display: inline-block;
	vertical-align: top;
	zoom: 1;
	*display: inline;
}

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

small {
  font-size: 80%;
}

#markofDisplay{
	font-family: "PT Serif";
	line-height: 1.4em;
	color: #444;
	padding: 2em;
	border: 1px solid #ccc;
}
table{
	border-collapse: collapse;
}

th, td{
	padding: 1em;
	border: 1px solid #ccc;
}
</style>
</head>
<body>
<h1>markof.js</h1>
<p>powerful lightweight markup language and parser</p>
<p>Source code and documentation on <a href="https://github.com/tomaslangkaas/markof.js">github</a></p>
<div class="container">
<div class="col2 inline">
<h3>Markof editor</h3>
<textarea id="markofEditor"># Heading

## Subheading

A paragraph.

Another paragraph,
with a line break.</textarea><br>
<button id="parseButton">Parse</button><button id="resetButton">Reset</button>
<input type="checkbox" id="compactFlag"> <label for="compactFlag">Compact HTML output</label>
<h3>Syntax examples</h3>
<div id="examples"></div>
</div><div class="col2 inline">
<h3>HTML output</h3>
<textarea id="markofHTML"></textarea>
<h3>Display output</h3>
<div id="markofDisplay"></div>
</div>

</div>
<script src="markof.js"></script>
<script>

var syntaxExamples = {
	'Headings and paragraphs': "# Heading\n\n## Subheading\n\nA paragraph.\n\nAnother paragraph,\nwith a line break.",
	'Inline formatting': "## Inline formating\n\n*emphasized* text\n!!strong!! text\n`code`\ntext in ^superscript^\ntext in _subscript_\n~small~ text\n++inserted++ text\n==deleted== text",
	'Lists': "- An item in an unordered list\n  - A subitem, indented with 2 spaces\n  2. A numbered subitem, demonstrating that ordered and unordered lists can be mixed and nested\n- Another item\n\n3. Countdown in an ordered list,\n2. showing that `markof` provides\n1. control over numbering in ordered lists",
	'Tables': '|\' Table header               |, Right-aligned header\n|; Centered header            |: Centered cell\n|  Normal cell with some text |. Right-aligned cell',
	'Blockquote': "\" <<An ounce of practice is worth more than tons of preaching.>> --Mahatma Gandhi",
	'Typographic_punctuation': "<<'twas in '69, around November--December>>, she said.\n\n<<My mother said ``No ... way!''>>, he said.\n\n<<What the ...>>, she responded, and---tired of talking---turned away.",
	'Description lists': ": musty\n:: having a stale, mouldy, or damp smell\n:: having a stale taste\n\n: John:\n:: <<How much for the watch?>>\n: James:\n:: <<It's not for sale>>",
	'Display code': '### Within a monospace block\n\n```\n<strong>\n  language\n</strong>\n```\n\n### In normal text\n\n`<strong>\n  language\n</strong>`',
	'Links and images': "- {http://www.google.com}[link to google homepage]\n- {http://www.google.com link title}[link to google homepage]\n- {mailto:a@b.c}[send mail to a@b.c]\n- {#fragment}[link to document fragment]\n- {./subdir/file}[relative link]\n- {../parentdir/file}[relative link]\n- {http://lorempixel.com/150/100}[!img alt text]"
};

function showExample(){
	setMarkof(syntaxExamples[this.id]);
}

for(var i in syntaxExamples){
	var a = document.createElement('button');
	a.appendChild(document.createTextNode(i.split('_').join(' ')));
	a.id = i;
	a.onclick = showExample;
	examples.appendChild(a);
}

function setMarkof(str){
	markofDisplay.innerHTML = markofHTML.value = markof.compact(compactFlag.checked)(markofEditor.value = str);
}

(parseButton.onclick = function(){
  setMarkof(markofEditor.value)
})();

resetButton.onclick = function(){
  setMarkof('')
}
</script>
</body>
</html>
